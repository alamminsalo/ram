openapi: "3.0.0"
info:
  title: Test for object reference collect
  version: v2
paths:
  /farm:
    get:
      responses:
        '200':
          description: "get farm content"
          content:
            application/json:    
              schema:
                $ref: "#/components/schemas/Farm"
components:
  schemas:
    Farm:
      properties:
        tails:
          $ref: "extra/animals.yaml#/Dog"
        claws:
          $ref: "extra/animals.yaml#/Cat"
          nullable: true
        herd: 
          type: array
          items:
            $ref: "extra/animals.yaml#/Cow"
      additionalProperties:
        properties:
          hidden:
            $ref: "extra/loop.yaml#/Loop"
            nullable: true
          numbers:
            type: array
            items:
              type: integer
